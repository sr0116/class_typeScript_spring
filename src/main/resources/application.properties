# ============================================
# PostgreSQL (Docker Compose / db-graph)
# ============================================
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${POSTGRES_USER}
spring.datasource.password=${POSTGRES_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver


# ============================================
# JPA 설정
# ============================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true


# ============================================
# GraphQL 설정
# ============================================
spring.graphql.graphiql.enabled=true
spring.graphql.schema.printer.enabled=true


# ============================================
# ***** GraphQL CORS 설정 (최종본) *****
# ============================================
# 요청 Origin 리스트
# - https://graphql.imchobo.com  (프론트 실제 도메인)
# - http://graphql.imchobo.com   (HTTP로 접속하는 경우)
# - http://imchobo.com:5440      (nginx 프록시 테스트)
# - https://imchobo.com:5440
# - http://43.200.237.241:5440   (IP 테스트)
# - http://localhost:5439        (프론트 Docker 직접)
# - http://127.0.0.1:5439        (프론트 Docker 직접)

spring.graphql.cors.allowed-origins=\
https://graphql.imchobo.com,\
http://graphql.imchobo.com,\
http://imchobo.com:5440,\
https://imchobo.com:5440,\
http://43.200.237.241:5440,\
http://localhost:5439,\
http://127.0.0.1:5439

spring.graphql.cors.allowed-methods=GET,POST
spring.graphql.cors.allowed-headers=*


# ============================================
# Server 기본 설정 (필요 시)
# ============================================
# server.port=8080   # docker-compose 에서 이미 포트 매핑됨
